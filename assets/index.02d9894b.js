import{t as o,a as m,c as l,s as c}from"./vendor.7b758a26.js";const y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};y();var u="Share your avatar with funny insult",d="https://the-robin-hood.github.io/insultavatar",v="Insult Avatar",g=["ansari","thameem","thaha thameem ansari","therobinhood","thaha"],h=()=>{var e=Math.floor(Math.random()*16);return Number(e)===0&&(e=1),"short"+("0"+e).slice(-2)},p=()=>{var e=Math.floor(Math.random()*20);return Number(e)===0&&(e=1),"long"+("0"+e).slice(-2)};o.options.progressBar=!0;o.options.positionClass="toast-bottom-center";o.options.timeOut=3e3;o.options.tapToDismiss=!0;o.options.showMethod="slideDown";async function I(){const t=await(await fetch("https://the-robin-hood.github.io/insultavatar/assets/insults.json")).json();return t.insults[Math.floor(Math.random()*t.insults.length)]}async function w(){var e=await m(document.getElementById("app"));const t=await(await fetch(e)).blob(),s=[new File([t],"InsultAvatar.png",{type:t.type,lastModified:new Date().getTime()})],r={title:v,text:u,url:d,files:s};if(navigator.share&&navigator.userAgentData.mobile)try{await navigator.share(r),o.success("Successfully shared")}catch(a){console.log(a)}else{const a=new Blob([`${u}

${d}`],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"image/png":t,"text/plain":a})]),o.success("Copied to clipboard")}}function b(e,t,s){var r;return function(){var a=this,n=arguments,i=function(){r=null,s||e.apply(a,n)},f=s&&!r;clearTimeout(r),r=setTimeout(i,t),f&&e.apply(a,n)}}async function E(e){if(e.target.value.length>2){document.getElementById("avatar").innerHTML===""&&(document.getElementById("avatar").innerHTML='<div class="loader"></div>');var t=e.target.value.toLowerCase().trim(),s=await fetch("https://api.genderize.io/?name="+t.split(" ")[0]),r=await s.json(),a=r.gender==="male"?h():p();const n=l(c,{seed:t,size:200,scale:90,radius:50,hair:[a],accessoiresProbability:15});e.target.value.length>2&&(document.getElementById("avatar").innerHTML=n)}else document.getElementById("avatar").innerHTML="";if(g.includes(e.target.value.toLowerCase().trim()))return document.getElementById("avatar").innerHTML=l(c,{size:200,scale:90,radius:50,hair:["short16"],mouth:["variant20"],eyebrows:["variant02"],skinColor:["variant03"],hairColor:["black"],eyes:["variant20"],accessoires:["glasses"],accessoiresProbability:100})}function B(e){var t=JSON.parse(localStorage.getItem("InsultAvatar"));return t!==null?t.expire!==new Date().toISOString().slice(0,10)?(localStorage.removeItem("InsultAvatar"),localStorage.setItem("InsultAvatar",JSON.stringify({expire:new Date().toISOString().slice(0,10),avatar:[e]})),!1):t.avatar.includes(e)?!0:(t.avatar.push(e),localStorage.setItem("InsultAvatar",JSON.stringify(t)),!1):(localStorage.setItem("InsultAvatar",JSON.stringify({expire:new Date().toISOString().slice(0,10),avatar:[e]})),!1)}function L(){if(document.getElementById("text").value.length<=2)return o.error("Please enter a valid name");var e=document.getElementById("text").value;if(!/^[a-zA-Z ]+$/.test(e))return o.warning("Please enter a valid name");if(g.includes(e.toLowerCase()))return o.info("Sorry mate couldn't insult the creator");document.getElementById("head").innerHTML=e,document.getElementById("form").innerHTML='<div class="loader"></div>',document.getElementsByClassName("reload")[0].style.display="block",document.getElementsByClassName("logo")[0].style.display="block",document.getElementsByClassName("download")[0].style.display="block",B(e.toLowerCase())?(document.getElementById("form").innerHTML="<h3>How many times in a day should i insult you ?</h3>",document.getElementById("share").style.display="inline-block"):I().then(t=>{document.getElementById("form").innerHTML=`<h3>${t}</h3>`,document.getElementById("share").style.display="inline-block"})}async function S(){var e=await m(document.getElementById("app"));const t=document.createElement("a");t.href=e,t.download="InsultAvatar.png",t.click()}document.getElementById("insult").addEventListener("click",L);document.getElementById("text").addEventListener("input",b(E,250));document.getElementById("text").addEventListener("keypress",e=>{if(e.key==="Enter"){var t=document.getElementById("text").value;t.length>0&&document.getElementById("insult").click()}});const M=document.getElementById("share");M.addEventListener("click",w);const k=document.getElementById("download");k.addEventListener("click",S);
